const _top_link=$(".top_link"),_sub_content=$(".sub_content"),_content_area=_sub_content.find("> .content_area"),_side_menu_area=$(".side_menu_area"),_side_toggle=_side_menu_area.find(".side_menu_toggle"),_side_menu=$(".side_menu"),_side_menu_d3=_side_menu.find(".depth3 > li"),kmtemp_resize_iframe="kmtemp_resize_iframe",_content_title=$("#content_title"),tab_menu="tab_menu",_content_bottom=$(".content_bottom"),_go_top_btn=_content_bottom.find(".go_top_btn"),_con_lst_btn=_content_bottom.find(".con_lst_btn"),content_list="content_list",content_list_close="content_list_close",list_title="list_title",list_active="list_active",data_title_num="data-title-num";let content_list_empty=50;const cl_d1="cl_d1",cl_d2="cl_d2",cl_d3="cl_d3";let list_moving=!1,con_tit_offsetTop=0,list_offset_top=[];const loading_scroll_top="loading_scroll_top",go_top_size=200;let loading_sct=null;function content_list_offset(){let t=_ukHeader.height(),e=$(window).width();e<screen_md_max&&(content_list_empty=40),e<screen_sm_max&&(content_list_empty=65);const n=t+content_list_empty;list_offset_top=[],_content_area.find("["+data_title_num+"]").each(function(t,e){let o=$(e).offset().top-n;$(e).is(".sound_only")&&(o=$(e).parent().offset().top-n),list_offset_top.push(Math.ceil(o))});let o=_sub_content.offset().top;con_tit_offsetTop=0,e>=screen_md_max&&(con_tit_offsetTop=o-t),e<screen_md_max&&(con_tit_offsetTop=o-n+20),e<screen_sm_max&&(con_tit_offsetTop=o-t)}function content_list_active(t){const e=_content_area.find("["+data_title_num+"]"),n=e.length-1;e.each(function(e,o){list_moving||(t>=list_offset_top[e]&&($("."+content_list).find("[data-title-num]").removeClass("active").eq(e).addClass("active"),$("."+list_title+" a").removeClass("active"),Math.ceil(t+_window.height())>=_document.height()&&($("."+content_list).find("[data-title-num]").removeClass("active"),$("."+content_list).find("[data-title-num]").eq(n).addClass("active"))),t>=con_tit_offsetTop&&t<list_offset_top[0]&&($("."+content_list).find("[data-title-num]").removeClass("active"),$("."+list_title+" a").addClass("active")),t<con_tit_offsetTop&&$("."+list_title+" a").removeClass("active"))})}$(document).ready(function(){header_common(),ukEditor_txtarea(),uk_editor(),uk_gist_skin_code(),focus_controll();_side_toggle.on("click",function(){const t=$(this);return t.is(".active")?(t.removeClass("active").attr("title","사이드 메뉴 닫기").parent().removeClass("side_close"),t.find("b").text("CLOSE"),_html.removeClass("side_close"),sessionStorage.clear("sideToggle")):(t.addClass("active").attr("title","사이드 메뉴 열기").parent().addClass("side_close"),t.find("b").text("OPEN"),_html.addClass("side_close"),sessionStorage.setItem("sideToggle",!0)),!1})}),$(window).on("load",function(){if(setTimeout(function(){1===window.performance.navigation.type&&($(window).on("scroll",function(){loading_sct=$(window).scrollTop(),sessionStorage.setItem(loading_scroll_top,loading_sct)}),_htmlBody.animate({scrollTop:sessionStorage.getItem(loading_scroll_top)},0),setTimeout(function(){_sub_content.addClass("content_load"),_ukFooter.addClass("content_load"),_html.removeAttr("style")},100)),0===window.performance.navigation.type&&(sessionStorage.setItem(loading_scroll_top,0),_sub_content.addClass("content_load"),_ukFooter.addClass("content_load"))},300),$(document).on("keydown",function(t){116===t.keyCode&&sessionStorage.setItem("html_height",$(document).height())}),window.addEventListener("beforeunload",function(){sessionStorage.setItem("html_height",$(document).height()),sessionStorage.setItem(loading_scroll_top,$(window).scrollTop())}),$(".uk_gist_code_box").each(function(t,e){$(e).find(".uk_gist_content").is(":visible")||(console.log("uk_gist_code error !!!!!!!!!!"),uk_gist_code_layout(),setTimeout(function(){uk_gist_skin_code(),console.log("uk_gist_code error - solve a problem !!")}))}),uk_kmTemp_resize(),$(window).scrollTop()>200&&_go_top_btn.css("opacity",1),_go_top_btn.on("click",function(){return _htmlBody.stop().animate({scrollTop:0},800,"easeInOutCubic"),!1}),$(".tab_menu li").length>5&&$(".tab_menu").addClass("two_line_tab"),!_body.is(".content_lst_none")){_content_bottom.addClass("list_show");const t=_content_area.children("section, article"),e="title_";_content_bottom.append('<nav class="'+content_list+'"><ul class="'+cl_d1+'"></ul></nav>');const n=$("."+content_list+" ul"),o=_content_title.html().split("<em")[0],i=_content_title.attr("data-number");n.before('<strong class="'+list_title+'"><a href="#">'+i+o+"</a></strong>"),$("."+content_list).append('<button type="button" class="content_list_close"><i>목차 닫기</i></button>'),$("."+list_title).find("span").removeAttr("class"),t.each(function(t,o){const i=$(o).find(">h2"),_=i.text().replace(/</g,"&lt;").replace(/>/g,"&gt;"),s=e+(t+1);i.attr(data_title_num,s),n.append('<li><a href="#" '+data_title_num+'="'+s+'">'+_+"</a></li>"),$(o).find("h3").is(":visible")&&"false"!==$(o).attr("data-conlist")&&(n.find("> li").eq(t).append('<ul class="cl_d2"></ul>'),$(o).find("h3").each(function(o,i){const _=$(i);let s;const l=(s=""!==_.html().split("<")[0]?_.html().split("<")[0]:_.text()).replace(/</g,"&lt;").replace(/>/g,"&gt;"),a=e+(t+1)+"_"+(o+1);_.attr(data_title_num,a),n.find("> li").eq(t).find(".cl_d2").append('<li><a href="#" '+data_title_num+'="'+a+'">'+l+"</a></li>"),"true"===$(i).attr("data-conlist-h4")&&(n.find("> li").eq(t).find(".cl_d2 > li").eq(o).append('<ul class="cl_d3"></ul>'),$(i).nextAll().find("h4").each(function(i,_){const s=$(_);let l;const a=(l=""!==s.text().split(":")[0]?s.text().split(":")[0]:s.text()).replace(/</g,"&lt;").replace(/>/g,"&gt;"),c=e+(t+1)+"_"+(o+1)+"_"+(i+1);s.attr(data_title_num,c),n.find("> li").eq(t).find(".cl_d2 > li").eq(o).find(".cl_d3").append('<li><a href="#" '+data_title_num+'="'+c+'">'+a+"</a></li>")}))}))}),_con_lst_btn.on("click",function(){return _content_bottom.addClass(list_active),!1}),$(".content_list_close").on("click",function(){return _content_bottom.removeClass(list_active),!1});const _=$(window).scrollTop(),s=400,l="easeInOutCubic";let a;content_list_offset(),content_list_active(_),$("."+content_list+" ."+cl_d1).find("a").each(function(t,e){$(e).on("click",function(){return list_moving=!0,clearTimeout(a),_htmlBody.stop().animate({scrollTop:list_offset_top[t]},s,l),$("."+content_list+" ."+cl_d1).find("a").removeClass("active"),$("."+list_title+" a").removeClass("active"),$(e).addClass("active"),a=setTimeout(function(){list_moving=!1},s+100),!1})}),$("."+list_title+" a").on("click",function(){return list_moving=!0,clearTimeout(a),_htmlBody.stop().animate({scrollTop:con_tit_offsetTop},s,l),$("."+content_list+" ."+cl_d1).find("a").removeClass("active"),$("."+list_title+" a").addClass("active"),a=setTimeout(function(){list_moving=!1},s+100),!1})}});const tg_on="tg_on";_side_menu_d3.each(function(t,e){_side_menu.is(".pub_side_nemu")&&$(e).children().length>1&&($(e).is(".active")&&$(e).addClass(tg_on),$(e).addClass("toggle_box"),$(e).find("> a").on("click",function(){return $(this).parent().toggleClass(tg_on).siblings().removeClass(tg_on),$(this).next().slideToggle(200).parent().siblings().find("ul").slideUp(200),!1}))});let top_link_offset=_top_link.find("ul").offset().top-1;$(window).on("scroll",function(){let t=$(window).scrollTop();hd_common(t),content_list_active(t),t>top_link_offset-_ukHeader.height()?_top_link.addClass("fixed"):_top_link.removeClass("fixed"),t>_sub_content.offset().top-_ukHeader.height()?_sub_content.addClass("loading_fixed"):_sub_content.removeClass("loading_fixed");let e=_sub_content.offset().top+Number(_sub_content.css("padding-top").replace("px",""))+$("#content_title").height()/2;t>(e-=_ukHeader.height())?_side_menu_area.addClass("title_show"):_side_menu_area.removeClass("title_show"),t>200?_go_top_btn.css("opacity",1):_go_top_btn.css("opacity",0)}).trigger("scroll"),$(window).on("resize",function(){let t=$(window).width();$(window).height();pc_mb_class(t),content_list_offset(),hd_layer_open_resize(t),t>screen_md_max?(_side_menu.find(".depth4").removeAttr("style"),_side_menu_d3.is(".active")&&_side_menu.find(".depth3 > li.active").addClass(tg_on)):_side_menu_d3.is(".active")&&_side_menu_d3.removeClass(tg_on),uk_kmTemp_resize()}).trigger("resize"),_top_link.ukDetect({browser_check:!0});