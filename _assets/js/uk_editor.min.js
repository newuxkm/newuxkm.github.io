function uk_editor(){var e;(e=".uk_editor",Array.apply(null,document.querySelectorAll(e))).forEach(function(e){var t=document.querySelector("html");function n(){var n,r,a,s=["code_wrap","result_wrap","btn_wrap","info_wrap"],d=["Reset","Download","FullScreen","Browser","Info"],c=[["minimize","최소화"],["exitMinimize","이전 크기로 복원"],["fixed","브라우저 전체화면"],["exitFixed","이전 크기로 복원"],["fullscreen","모니터 전체화면"],["exitFullscreen","이전 크기로 복원"],["closing","닫기"]],l=["edite_info","browser_info"],o=[["초기 코드로 되돌립니다.","코드를 html 파일로 다운로드할 수 있습니다.","에디터를 브라우저 기준 전체 화면으로 확장합니다. 조금 더 편리한 코딩이 가능합니다."],["Result Area를 최소화 합니다.","Result Area를 브라우저 기준 전체 화면으로 확대합니다.","Result Area를 모니터 기준 전체 화면으로 확대합니다.","Result Area를 닫습니다. Browser button을 클릭하여 기본 모드로 되돌릴 수 있습니다."]],u="editor_info",m="browser_full",v="browser_hide",h="browser_mini",f="browser_fixed",p="fullscreen_mode",L="true"===e.getAttribute("data-result");if(e.classList.add(device_check),e.setAttribute("tabindex","0"),L){"device"===device_check?(r="nocursor",a=!1):"desktop"===device_check&&(r=!1,a=!0);var b=document.createElement("div");e.appendChild(b).classList.add(s[1]);var _=document.createElement("div");e.appendChild(_).classList.add(s[2]);var w=document.createElement("div");e.appendChild(w).classList.add(s[3])}for(i=0;i<e.children.length;i++){if(e.children[i].className===s[0])var E=e.children[i];if(L){if(e.children[i].className===s[1])var y=e.children[i];if(e.children[i].className===s[2])var C=e.children[i];if(e.children[i].className===s[3])var g=e.children[i]}}var A,k,x=E.firstElementChild,T=x.value,N=CodeMirror.fromTextArea(x,{mode:e.getAttribute("data-mode"),theme:"ayu-mirage",lineNumbers:!0,fixedGutter:a,styleActiveLine:!0,readOnly:r,tabSize:2,indentWithTabs:!0,scrollbarStyle:"simple",highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0}});if(N.on("change",function(){N.save(),setTimeout(S)}),L){function M(){var e=x.value;N.setValue(e),setTimeout(S,100)}function S(){y.innerHTML="";var r=x.value;if("string"==typeof r&&r.length>=0){var a=document.createElement("iframe");a.setAttribute("frameborder","0"),a.setAttribute("tabindex","-1"),y.appendChild(a);var s=a.contentWindow?a.contentWindow:a.contentDocument.document?a.contentDocument.document:a.contentDocument;return s.document.open(),s.document.write(r),s.document.close(),function(){var e;n=y.firstElementChild.contentWindow.document.title?y.firstElementChild.contentWindow.document.title:"UXKM editor";var t=document.createElement("p"),r=document.createElement("i");for(y.appendChild(t).classList.add("browserTitle"),i=0;i<y.children.length;i++)"browserTitle"===y.children[i].className&&(e=y.children[i]);e.classList.add(device_check),e.setAttribute("data-tit",n),e.setAttribute("tabindex","0");var a=document.createTextNode(n);e.appendChild(r),e.appendChild(a),e.firstElementChild.classList.add("fas","fa-globe-asia"),e.classList.add(browser_name),e.addEventListener("click",H);var s=y.firstElementChild.contentWindow.document.head.children;for(i=0;i<s.length;i++)if("icon"===s[i].getAttribute("rel")||"shortcut icon"===s[i].getAttribute("rel")){e.classList.add("favicon");var d=s[i].getAttribute("href"),c=document.createElement("span");c.classList.add("i_favicon","fas"),-1!==d.indexOf(".ico")&&(c.style.zIndex="9");var l=document.createElement("span");l.innerHTML="favicon",l.style.backgroundImage="url("+d+")",c.appendChild(l),e.appendChild(c)}var o=location.href.slice(7);y.setAttribute("data-url",o)}(),function(){var n,r=document.createElement("div");for(y.appendChild(r).classList.add("browserBtn"),y.classList.add(browser_name),i=0;i<y.children.length;i++)"browserBtn"===y.children[i].className&&(n=y.children[i]);for(i=0;i<c.length;i++){var a=document.createElement("button");a.innerHTML=c[i][0],a.setAttribute("type","button"),a.setAttribute("tabindex","-1"),a.setAttribute("title",c[i][1]),a.classList.add(c[i][0]+"_btn"),n.appendChild(a);var s=n.children[i];0===i?s.addEventListener("click",function(){I(),e.classList.add(h),e.classList.remove(m),e.classList.remove(f),W()}):1===i?s.addEventListener("click",function(){H(),W()}):2===i?("device"===device_check&&(s.style.display="none"),s.addEventListener("click",function(){I(),e.classList.add(f),e.classList.remove(h,m),t.style.overflow="hidden"})):3===i?s.addEventListener("click",function(){e.classList.remove(f),e.className.match(p)||t.removeAttribute("style")}):4===i?s.addEventListener("click",function(){e.classList.add(m),t.clientWidth<1200&&e.classList.add(q),e.classList.remove(h,f),y.requestFullscreen(),console.log(t.clientWidth)}):5===i?s.addEventListener("click",I):6===i&&s.addEventListener("click",function(){I(),e.classList.add(v),e.classList.remove(h,m,f),A.style.display="inline-block",M()})}}(),setTimeout(function(){var t=e.querySelector(".browserTitle"),i=t.parentNode;i.insertBefore(t,i.firstChild)},300),!1}}!function(){for(i=0;i<d.length;i++){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("tabindex","-1"),n.classList.add("fas"),n.classList.add("edit_btn"),n.classList.add(d[i]+"_btn"),C.appendChild(n);var r=C.children[i],a=document.createElement("i");a.innerHTML=d[i],r.appendChild(a),0===i?r.addEventListener("click",function(){return N.setValue(T),setTimeout(S,100),!1}):1===i?("ie"!==browser_name&&"edge"!==browser_name&&"safari"!==browser_name&&"device"!==device_check||(r.style.display="none"),r.addEventListener("click",R)):2===i?("device"===device_check&&(r.style.display="none"),r.addEventListener("click",function(){if(e.className.match(p)){var i=e.parentNode.querySelector(".instant_box");e.parentNode.removeChild(i),e.classList.remove(p),this.classList.remove("active"),t.removeAttribute("style"),t.classList.remove("editor_full_screen")}else{var n=e.offsetHeight,r=document.createElement("div");r.classList.add("instant_box"),r.classList.add("mt_ms"),r.style.height=n+"px";var a=e.parentNode.appendChild(r);a.innerText="uk editor pull screen",e.classList.add(p),this.classList.add("active"),t.style.overflow="hidden",t.classList.add("editor_full_screen")}return M(),!1})):3===i&&(r.style.display="none",r.addEventListener("click",function(){this.style.display="none",e.classList.remove(v),e.classList.remove(h),e.classList.remove(f),S()}),A=r),4===i&&("device"===device_check&&(r.style.display="none"),r.addEventListener("click",function(){e.classList.add(u)}))}}(),S(),function(){for(g.addEventListener("click",function(){e.classList.remove(u)}),g.setAttribute("data-left","Editor Box"),g.setAttribute("data-right","Result Area"),g.classList.add(browser_name),i=0;i<l.length;i++){var t=document.createElement("ul");for(t.classList.add(l[i]),g.appendChild(t),j=0;j<o[i].length;j++){var n=document.createElement("li"),r=document.createElement("div"),a=document.createElement("strong"),s=document.createElement("i");if(s.innerHTML=o[i][j],0===i)n.classList.add("info_"+d[j]),a.innerHTML=d[j];else if(1===i){var m=0;0!==j&&(m=2*j),n.classList.add("info_"+c[m][0]),a.innerHTML=c[m][1]}r.appendChild(a),r.appendChild(s),n.appendChild(r),g.children[i].appendChild(n)}}var v=document.createElement("p");v.classList.add("info_end"),v.innerHTML="클릭 시 설명 창이 닫힙니다.",g.appendChild(v)}();var q="full_browser_md";function H(){e.classList.remove(h)}function I(){e.classList.contains(m)&&(e.classList.remove(m,q),document.exitFullscreen())}function W(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}function R(){if("ie"===browser_name||"edge"===browser_name)alert("파일 다운로드는 크롬, 파이어폭스, 오페라, 사파리 등 상위 브라우져에서 가능합니다.");else{var e=x.value,t=document.createElement("a");t.setAttribute("download",n+".html"),t.setAttribute("href","data:application/text; charset=utf-8,"+encodeURIComponent(e)),t.click()}return!1}"mini"===(k=e.getAttribute("data-browser"))?e.classList.add(h):"hidden"===k&&e.classList.add(v)}}n();var r=setInterval(function(){e.querySelector(".CodeMirror-code").childNodes.length<=1?setTimeout(function(){var t=e.querySelector(".CodeMirror"),i=e.querySelector(".result_wrap"),r=e.querySelector(".btn_wrap"),a=e.querySelector(".info_wrap");t.parentNode.removeChild(t),i.parentNode.removeChild(i),r.parentNode.removeChild(r),a.parentNode.removeChild(a),n()}):clearInterval(r)},100)})}